<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyJaanAnshi</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>

    <div id="password-overlay">
        <h2>Enter Your Secret Code ğŸ‘€</h2>
        <input type="password" id="passInput" placeholder="Yaha password likho...">
        <button class="button show-btn" onclick="checkPassword()">unlock surprise babe ğŸ‘€</button>
    </div>

    <div class="container" id="main-container">
        <div class="content-box">
            <h1 id="title">Welcome My Jaan Anshi ğŸ‘€ğŸ’‹</h1>
            <p id="para">êœ°ÉªÉ´á´€ÊŸÊŸÊ, á´€á´€ ÊœÉª É¢á´€Êá´‡ á´€á´€á´˜ Êá´€Êœá´€ á´˜á´€Ê€ ğŸ‘€. á´€á´˜á´‹á´‡ ÊŸÉªÊá´‡ á´„Êœá´á´›á´€ êœ±á´€ êœ±á´œÊ€á´˜Ê€Éªêœ±á´‡ Ê™á´€É´á´€Êá´€ Êœ á´á´€ÉªÉ´á´‡ ğŸ˜­ğŸ‘‰ğŸ‘ˆ, êœ±á´ Éª á´¡á´€É´á´› á´‹Éª á´€á´€á´˜ á´œêœ± êœ±á´œÊ€á´˜Ê€Éªêœ±á´‡ á´‹á´ á´…á´‡á´‹Êœá´ á´€É´á´… Ê™á´€á´›á´€á´ á´‹Éª á´‹á´€Éªêœ±á´€ ÊŸá´€É¢á´€ ğŸ˜­ğŸ’—. á´€á´€á´Š êœ±ÉªÊ€êœ° á´€á´˜á´‹á´€ ÊœÉª êœ±á´˜á´‡á´„Éªá´€ÊŸ á´…á´€Ê É´ÊœÉª Êœ ğŸ‘€ á´€á´€á´Š á´á´‡Ê€á´‡ á´˜Êá´€á´€Ê€Éª êœ±Êœá´‡Ê€É´Éª á´‹á´€ á´Šá´€É´á´€á´á´…ÉªÉ´ ÊœğŸ˜­ğŸ’—ğŸ€.</p>
        </div>

        <a href="wish.html" class="button" id="nextBtn">yaha click karo ğŸ‘€</a>

        <div class="footer">a special msg ğŸ‘€ â€¢ for my heart</div>
    </div>

<script>
const CORRECT_PASSWORD = "19031112";

// Confetti Sparkles
function triggerSparkles(event) {
    confetti({ 
        particleCount: 50, 
        spread: 70, 
        origin: { x: event.clientX / window.innerWidth, y: event.clientY / window.innerHeight },
        colors: ['#ff4d6d', '#ffffff', '#ffd700']
    });
}

// Password Logic
function checkPassword() {
    const input = document.getElementById("passInput").value;
    const overlay = document.getElementById("password-overlay");
    const container = document.getElementById("main-container");

    if (input === CORRECT_PASSWORD) {
        overlay.style.opacity = "0";
        setTimeout(() => {
            overlay.style.display = "none";
            container.style.display = "flex"; 
            startSequence(); 
        }, 500);
    } else {
        alert("Galat password! ğŸ˜¤");
        document.getElementById("passInput").value = "";
    }
}

// WORD-SAFE LETTER ANIMATION (Matches style.css)
function animateLetters(el, callback) {
    const originalText = el.innerText;
    el.innerHTML = ""; 

    // Splitting by words to prevent word-break
    const words = originalText.split(" ");
    
    words.forEach((word, wordIndex) => {
        // Wrapping each word in an inline-block span
        const wordWrapper = document.createElement("span");
        wordWrapper.style.display = "inline-block"; 
        wordWrapper.style.whiteSpace = "nowrap"; 

        // Creating letters inside the word-wrapper
        [...word].forEach(char => {
            const letterSpan = document.createElement("span");
            letterSpan.innerHTML = char;
            // Using reveal-span class for opacity control in CSS
            letterSpan.classList.add("reveal-span"); 
            wordWrapper.appendChild(letterSpan);
        });

        el.appendChild(wordWrapper);

        // Space preservation
        if (wordIndex < words.length - 1) {
            const space = document.createElement("span");
            space.innerHTML = "&nbsp;";
            space.style.display = "inline-block";
            el.appendChild(space);
        }
    });

    // Selecting and revealing letters sequentially
    const allLetters = el.querySelectorAll(".reveal-span");
    let i = 0;
    const interval = setInterval(() => {
        if(i < allLetters.length) {
            allLetters[i].classList.add("reveal"); // Triggers CSS transition
            i++;
        } else {
            clearInterval(interval);
            if(callback) callback();
        }
    }, 30);
}

// Animation order: Headline -> Underline -> Paragraph -> Button
function startSequence() {
    const t = document.getElementById("title");
    const p = document.getElementById("para");
    const b = document.getElementById("nextBtn");

    animateLetters(t, () => {
        t.classList.add("underline-grow");
        setTimeout(() => {
            animateLetters(p, () => {
                b.classList.add("show-btn");
            });
        }, 700);
    });
}

// Sparkle on Button Click & Redirect
document.getElementById('nextBtn').addEventListener('click', function(e) {
    triggerSparkles(e);
    e.preventDefault();
    const url = this.href;
    setTimeout(() => { window.location.href = url; }, 600);
});

// Sparkle for password button
document.querySelector('#password-overlay .button').addEventListener('click', (e) => {
    triggerSparkles(e);
});
</script>

</body>
</html>
