<!DOCTYPE html>
<html>
<head>
    <title>MyJaanAnshi</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        /* Naye CSS rules button fix karne aur usko animated banane ke liye */
        #password-overlay button {
            display: inline-block !important; /* Visual fixes ke liye */
            opacity: 1 !important; /* Dikhne ki guarantee ke liye */
            transform: scale(1) !important; /* Sahi scale set karne ke liye */
            visibility: visible !important; /* Visible rakhne ke liye */
            transition: all 0.3s ease-in-out !important; /* Smooth animation trigger ke liye */
            cursor: pointer; /* Pointer badalne ke liye */
        }
    </style>
</head>
<body>

<div id="password-overlay">
    <h2>Enter Secret Code ğŸ‘€</h2>
    <p style="color: #ff4d6d; font-family: sans-serif; font-size: 14px; margin-bottom: 10px;">Hint :- Wp ka chat lock pass</p>
    <input type="password" id="passInput" placeholder="Yaha password likho...">
    <button onclick="checkPassword()">Unlock Surprise ğŸ”“</button>
</div>

<div class="container">
    <div class="content-box">
        <h1 id="title">Welcome My Jaan Anshi ğŸ‘€ğŸ’‹</h1>
        <p id="para">êœ°ÉªÉ´á´€ÊŸÊŸÊ, á´€á´€ ÊœÉª É¢á´€Êá´‡ á´€á´€á´˜ Êá´€Êœá´€ á´˜á´€Ê€ ğŸ‘€. á´€á´˜á´‹á´‡ ÊŸÉªÊá´‡ á´„Êœá´á´›á´€ êœ±á´€ êœ±á´œÊ€á´˜Ê€Éªêœ±á´‡ Ê™á´€É´á´€Êá´€ Êœ á´á´€ÉªÉ´á´‡ ğŸ˜­ğŸ‘‰ğŸ‘ˆ, êœ±á´ Éª á´¡á´€É´á´› á´‹Éª á´€á´€á´˜ á´œêœ± êœ±á´œÊ€á´˜Ê€Éªêœ±á´‡ á´‹á´ á´…á´‡á´‹Êœá´ á´€É´á´… Ê™á´€á´›á´€á´ á´‹Éª á´‹á´€Éªêœ±á´€ ÊŸá´€É¢á´€ ğŸ˜­ğŸ’—. á´€á´€á´Š êœ±ÉªÊ€êœ° á´€á´˜á´‹á´€ ÊœÉª êœ±á´˜á´‡á´„Éªá´€ÊŸ á´…á´€Ê É´ÊœÉª Êœ ğŸ‘€ á´€á´€á´Š á´á´‡Ê€á´‡ á´˜Êá´€á´€Ê€Éª êœ±Êœá´‡Ê€É´Éª á´‹á´€ á´Šá´€É´á´€á´á´…ÉªÉ´ ÊœğŸ˜­ğŸ’—ğŸ€.</p>
        
        <a href="wish.html" class="button" id="nextBtn">YAHA CLICK KARO ğŸ‘€</a>
    </div>
    
    <div class="footer">A Special Msg ğŸ‘€ â€¢ For My Heart</div>
</div>

<script>
const CORRECT_PASSWORD = "19031112";

// Confetti Effect Function (Purana function retained)
function triggerSparkles(event) {
    confetti({ 
        particleCount: 40, 
        spread: 70, 
        origin: { x: event.clientX / window.innerWidth, y: event.clientY / window.innerHeight }, 
        colors: ['#ff4d6d', '#ffffff', '#ffd700'] 
    });
}

// Password Verification Logic - Fixed visual error handling
function checkPassword() {
    const input = document.getElementById("passInput").value;
    const overlay = document.getElementById("password-overlay");
    const unlockButton = document.querySelector("#password-overlay button");
    
    // Unlock attempts tracker naye visual reset logic ke liye
    let attemptsCount = localStorage.getItem("attemptsCount") || 0;

    if (input === CORRECT_PASSWORD) {
        overlay.style.opacity = "0";
        setTimeout(() => {
            overlay.style.display = "none";
            startSequence(); // Start animations after unlock
        }, 500);
        
        // Reset count on success
        localStorage.removeItem("attemptsCount"); 
    } else {
        alert("Galat password! ğŸ˜¤");
        document.getElementById("passInput").value = "";
        
        // Count failure, visual cues adjust
        attemptsCount++;
        localStorage.setItem("attemptsCount", attemptsCount);
    }
}

// Letter Animation Function (Purana logic class 'reveal' based retained)
function animateLetters(el, callback) {
    const text = el.innerText;
    el.innerHTML = ""; 
    
    [...text].forEach(char => {
        const span = document.createElement("span");
        span.innerHTML = char === " " ? "&nbsp;" : char;
        el.appendChild(span);
    });

    const spans = el.querySelectorAll("span");
    let i = 0;
    const interval = setInterval(() => {
        if(i < spans.length) {
            spans[i].classList.add("reveal"); // Triggers CSS animation
            i++;
        } else {
            clearInterval(interval);
            if(callback) callback();
        }
    }, 4000 / spans.length > 40 ? 40 : 30); // Dynamic speed
}

// Animation Sequence Manager (Purana sequence logic retained)
function startSequence() {
    const t = document.getElementById("title");
    const p = document.getElementById("para");
    const b = document.getElementById("nextBtn");

    // Start with Title
    animateLetters(t, () => {
        t.classList.add("underline-grow");
        setTimeout(() => {
            // Start Paragraph
            animateLetters(p, () => {
                // Trigger Animated Button
                b.classList.add("show-btn");
            });
        }, 600);
    });
}

// Button Click Handling (Purana retained)
document.getElementById('nextBtn').addEventListener('click', (e) => {
    triggerSparkles(e);
    e.preventDefault();
    const targetUrl = e.target.href;
    setTimeout(() => { window.location.href = targetUrl; }, 500);
});
</script>

</body>
</html>
