<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Thoughts ðŸ‘€</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        .content-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
        }

        #feedbackForm {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        textarea {
            width: 90%;
            max-width: 350px;
            height: 120px;
            border-radius: 20px;
            padding: 15px;
            border: 2px solid #ff4d6d;
            outline: none;
            font-family: 'BerlinSmallCaps', sans-serif;
            font-size: 16px;
            margin-top: 15px;
            resize: none;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.05);
        }

        #submitBtn {
            border: none;
            cursor: pointer;
            display: inline-block;
        }
    </style>
</head>
<body>

<div class="container" style="display: flex;">

    <div class="content-box">
        <h1 id="title">Share Your Feeling Babe ðŸ‘€</h1>
        <p id="para">Tell me how you felt about this little surprise.</p>
        
        <form id="feedbackForm" action="https://formsubmit.co/ban2sarkar123@gmail.com" method="POST">
            <input type="hidden" name="_captcha" value="false">
            <input type="hidden" name="_subject" value="New Feedback Received ðŸ’Œ">
            <input type="hidden" name="_template" value="table">

            <textarea id="feedbackText" name="message" placeholder="Yaha likho meri jaan..." required></textarea>
            
            <button type="submit" id="submitBtn" class="button">submit here cutie ðŸ‘€ðŸ’‹</button>
        </form>
    </div>

    <div class="footer">Forever Yours My Sweetheart ðŸ’‹</div>

</div>

<script>
// --- Confetti Sparkle Logic ---
function triggerSparkles(event) {
    confetti({
        particleCount: 50,
        spread: 70,
        origin: { x: event.clientX / window.innerWidth, y: event.clientY / window.innerHeight },
        colors: ['#ff4d6d', '#ffffff', '#ffd700']
    });
}

// --- WORD-SAFE LETTER ANIMATION ---
function animateLetters(el, callback) {
    const originalText = el.innerText || el.textContent;
    el.innerHTML = ""; 

    const words = originalText.split(" ");
    
    words.forEach((word, wordIndex) => {
        const wordWrapper = document.createElement("span");
        wordWrapper.style.display = "inline-block";
        wordWrapper.style.whiteSpace = "nowrap"; 

        [...word].forEach(char => {
            const letterSpan = document.createElement("span");
            letterSpan.innerHTML = char;
            letterSpan.classList.add("reveal-span"); 
            wordWrapper.appendChild(letterSpan);
        });

        el.appendChild(wordWrapper);

        if (wordIndex < words.length - 1) {
            const space = document.createElement("span");
            space.innerHTML = "&nbsp;";
            space.style.display = "inline-block";
            el.appendChild(space);
        }
    });

    const allLetters = el.querySelectorAll(".reveal-span");
    let i = 0;
    const interval = setInterval(() => {
        if(i < allLetters.length) {
            allLetters[i].classList.add("reveal"); 
            i++;
        } else {
            clearInterval(interval);
            if(callback) callback();
        }
    }, 30);
}

// --- Animation Sequence ---
window.onload = () => {
    const t = document.getElementById("title");
    const p = document.getElementById("para");
    const b = document.getElementById("submitBtn");

    animateLetters(t, () => {
        t.classList.add("underline-grow");
        setTimeout(() => {
            animateLetters(p, () => {
                b.classList.add("show-btn");
            });
        }, 600);
    });
};

// --- Form Logic: Validation + Sparkles + Submit ---
const form = document.getElementById('feedbackForm');
const feedbackArea = document.getElementById('feedbackText');
const submitBtn = document.getElementById('submitBtn');

form.addEventListener('submit', function(e) {
    // 1. Check if empty
    if (feedbackArea.value.trim() === "") {
        e.preventDefault(); 
        alert("Pehle kuch likho toh meri jaan! âœï¸ðŸ’–"); 
        feedbackArea.focus(); 
        return false;
    }

    // 2. If valid, show sparkles and submit
    e.preventDefault(); 
    
    triggerSparkles({
        clientX: window.innerWidth / 2,
        clientY: window.innerHeight / 2
    });

    submitBtn.innerText = "Sending... ðŸ’—";
    submitBtn.disabled = true;

    setTimeout(() => {
        form.submit(); // Email send hoga aur site wahi khatam
    }, 1200);
});
</script>

</body>
</html>
